# Data and Actions in Flows

## Work with Salesforce Records in Flows

### The Power of Flow Builder

Flows in Salesforce can automate tasks like updating data, sending emails, and interacting with external systems. To work with Salesforce records, flows use data elements to create, update, or delete records. Variables in flows don’t directly affect records unless data elements are used.

### Creating Records

Flows can create records for any Salesforce object, including standard, custom, and API-only objects. Using the **Create Records element**, you can configure flows to create one or multiple records. For example, you can automate creating follow-up tasks for new accounts by setting specific conditions and field values.

### Updating Records

To modify existing records, the **Update Records element** is used.  
For instance, a flow can check if a contact lacks a phone number and copy the related account’s phone number to the contact. This involves specifying the record to update and the changes to apply.

### Deleting Records

The **Delete Records element** allows flows to remove records, but this action should be used cautiously. Deleting records should be thoroughly tested in a sandbox environment to avoid unintended consequences.

## Combine Variables and Data Elements

### Variables Generated by Elements

Flow elements like "Get Records" automatically create variables to store data, saving you the hassle of creating them manually. These variables are labeled based on their source element, such as [Record type] from [API name].  
For example, a "Get Records" element fetching a contact record creates a variable like Contact from Get_Latest_Contact.

### Retrieve Values from a Single Record

To use Salesforce data in flows, the "Get Records" element retrieves and temporarily stores record values. You can fetch data from a single record or a collection, and sort or filter it to get the most relevant information.  
For instance, you can retrieve the most recent "Decision Maker" contact for a lost opportunity and use it in subsequent flow steps.

### Use the Retrieved Values

Once data is retrieved, it can be used in other flow elements.  
For example, a "Create Records" element can use the retrieved "Decision Maker" contact to create a follow-up task. This task can include details like the opportunity owner, priority, and related contact.

## Work with Salesforce Records in Flows

### The Power of Flow Builder

Flows in Salesforce can automate tasks like updating data, sending emails, and interacting with external systems. To work with Salesforce records, flows use data elements to create, update, or delete records. These elements allow you to interact with Salesforce data effectively.

### Create a Single Record

Flows can create records for any Salesforce object, including standard, custom, and API-only objects. Using the Create Records element, you can configure flows to create one or multiple records. For example, you can automate creating follow-up tasks for new accounts by setting specific conditions and field values.

### Update a Single Record

To modify existing records, use the Update Records element. For instance, you can create a flow to check if a contact lacks a phone number and automatically copy the related account's phone number to the contact. This involves setting conditions and using the Triggering global variable to reference the record that initiated the flow.

### Delete Records

The Delete Records element allows flows to remove records, but this action should be used cautiously. Always test flows in a sandbox environment to avoid unintended deletions. Deleting records is generally reserved for cases where the record should not have existed.

## Communicate Using the Action Element

### Overview of the Action Element

The Action element in Flow Builder is a versatile tool for automating communication. It allows you to send emails, post to Chatter, and submit records for approval. This element is key to ensuring users and customers are informed about changes or updates.

### Sending Emails with Flows

You can use the Action element to send emails via Email Alerts, which are workflow actions that integrate seamlessly with flows. To set this up, you need an email template and an email alert. The flow can then trigger the email alert when specific conditions are met, such as changes to an account.

### Posting to Chatter

For internal communication, the Action element can create Chatter posts. This requires a text template for the message and a resource containing the target ID (e.g., user or group). The flow can post updates directly to Chatter feeds, ensuring timely notifications within Salesforce.

### Submitting Records for Approval

The Action element can also automate approval processes. By setting up a flow with the appropriate conditions and resources (like the record ID and approval process name), you can ensure records are submitted for approval automatically when they meet specific criteria.

## Make the Most of Global Variables and Values

### What Are Global Variables?

Global variables in Flow Builder provide access to useful data that changes with each flow run. They behave like objects and fields, containing multiple values. You can use them in fields that allow resource selection, such as "Enter value or search resources." Some global variables start with $ in certain elements, but they function the same.

### Using the Running User's Data

The Running User global variable gives access to the user running the flow, including their ID, name, and email. For example, you can automate notifications to a manager when a high-value opportunity is lost. This involves retrieving the manager's details and using an Action element to post a Chatter notification.

### Accessing Profile and Role Values

Avoid hardcoding IDs in flows, as they can change. Instead, use the Running User’s Role and Profile global variables to access role and profile details. For example, you can check if a user belongs to a specific territory by referencing their role's DeveloperName.

### Custom Labels and Metadata

Custom labels allow you to display text in multiple languages, which can be used in flows for screen components or default field values. Custom metadata, while not a global variable, can be accessed globally in Flow Builder using the Get Records element, making it reusable across flows and other Salesforce features.
